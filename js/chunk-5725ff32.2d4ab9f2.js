(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5725ff32"],{"0e7e":function(e,t,r){},2012:function(e,t,r){"use strict";r("9151")},2154:function(e,t,r){},4127:function(e,t,r){"use strict";var n=r("d233"),o=r("b313"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Date.prototype.toISOString,c={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return a.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,r,o,i,a,s,u,l,f,p,d,y){var m=t;if("function"===typeof u)m=u(r,m);else if(m instanceof Date)m=p(m);else if(null===m){if(i)return s&&!y?s(r,c.encoder):r;m=""}if("string"===typeof m||"number"===typeof m||"boolean"===typeof m||n.isBuffer(m)){if(s){var g=y?r:s(r,c.encoder);return[d(g)+"="+d(s(m,c.encoder))]}return[d(r)+"="+d(String(m))]}var h,v=[];if("undefined"===typeof m)return v;if(Array.isArray(u))h=u;else{var b=Object.keys(m);h=l?b.sort(l):b}for(var O=0;O<h.length;++O){var w=h[O];a&&null===m[w]||(v=Array.isArray(m)?v.concat(e(m[w],o(r,w),o,i,a,s,u,l,f,p,d,y)):v.concat(e(m[w],r+(f?"."+w:"["+w+"]"),o,i,a,s,u,l,f,p,d,y)))}return v};e.exports=function(e,t){var r=e,a=t?n.assign({},t):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!==typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u="undefined"===typeof a.delimiter?c.delimiter:a.delimiter,l="boolean"===typeof a.strictNullHandling?a.strictNullHandling:c.strictNullHandling,f="boolean"===typeof a.skipNulls?a.skipNulls:c.skipNulls,p="boolean"===typeof a.encode?a.encode:c.encode,d="function"===typeof a.encoder?a.encoder:c.encoder,y="function"===typeof a.sort?a.sort:null,m="undefined"!==typeof a.allowDots&&a.allowDots,g="function"===typeof a.serializeDate?a.serializeDate:c.serializeDate,h="boolean"===typeof a.encodeValuesOnly?a.encodeValuesOnly:c.encodeValuesOnly;if("undefined"===typeof a.format)a.format=o["default"];else if(!Object.prototype.hasOwnProperty.call(o.formatters,a.format))throw new TypeError("Unknown format option provided.");var v,b,O=o.formatters[a.format];"function"===typeof a.filter?(b=a.filter,r=b("",r)):Array.isArray(a.filter)&&(b=a.filter,v=b);var w,j=[];if("object"!==typeof r||null===r)return"";w=a.arrayFormat in i?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var x=i[w];v||(v=Object.keys(r)),y&&v.sort(y);for(var k=0;k<v.length;++k){var A=v[k];f&&null===r[A]||(j=j.concat(s(r[A],A,x,l,f,p?d:null,b,y,m,g,O,h)))}var _=j.join(u),P=!0===a.addQueryPrefix?"?":"";return _.length>0?P+_:""}},4328:function(e,t,r){"use strict";var n=r("4127"),o=r("9e6a"),i=r("b313");e.exports={formats:i,parse:o,stringify:n}},"66c0":function(e,t,r){"use strict";r("2154")},6824:function(e,t,r){"use strict";r("0e7e")},9151:function(e,t,r){},"9e6a":function(e,t,r){"use strict";var n=r("d233"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,c=n.split(t.delimiter,a),s=0;s<c.length;++s){var u,l,f=c[s],p=f.indexOf("]="),d=-1===p?f.indexOf("="):p+1;-1===d?(u=t.decoder(f,i.decoder),l=t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,d),i.decoder),l=t.decoder(f.slice(d+1),i.decoder)),o.call(r,u)?r[u]=[].concat(r[u]).concat(l):r[u]=l}return r},c=function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a)i=[],i=i.concat(n);else{i=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,s=parseInt(c,10);!isNaN(s)&&a!==c&&String(s)===c&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(i=[],i[s]=n):i[c]=n}n=i}return n},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,s=i.exec(n),u=s?n.slice(0,s.index):n,l=[];if(u){if(!r.plainObjects&&o.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}var f=0;while(null!==(s=a.exec(n))&&f<r.depth){if(f+=1,!r.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+n.slice(s.index)+"]"),c(l,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!==typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"===typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"===typeof r.depth?r.depth:i.depth,r.arrayLimit="number"===typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"===typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"===typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"===typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"===typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"===typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"===typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var o="string"===typeof e?a(e,r):e,c=r.plainObjects?Object.create(null):{},u=Object.keys(o),l=0;l<u.length;++l){var f=u[l],p=s(f,o[f],r);c=n.merge(c,p,r)}return n.compact(c)}},b313:function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e){var t;while(e.length){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],o=0;o<t.length;++o)"undefined"!==typeof t[o]&&n.push(t[o]);r.obj[r.prop]=n}}return t},a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r},c=function e(t,r,o){if(!r)return t;if("object"!==typeof r){if(Array.isArray(t))t.push(r);else{if("object"!==typeof t)return[t,r];(o.plainObjects||o.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!==typeof t)return[t].concat(r);var i=t;return Array.isArray(t)&&!Array.isArray(r)&&(i=a(t,o)),Array.isArray(t)&&Array.isArray(r)?(r.forEach((function(r,i){n.call(t,i)?t[i]&&"object"===typeof t[i]?t[i]=e(t[i],r,o):t.push(r):t[i]=r})),t):Object.keys(r).reduce((function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t}),i)},s=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},u=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},l=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),r="",n=0;n<t.length;++n){var i=t.charCodeAt(n);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(n):i<128?r+=o[i]:i<2048?r+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?r+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(n+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(n)),r+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return r},f=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],a=o.obj[o.prop],c=Object.keys(a),s=0;s<c.length;++s){var u=c[s],l=a[u];"object"===typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:u}),r.push(l))}return i(t)},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},d=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:a,assign:s,compact:f,decode:u,encode:l,isBuffer:d,isRegExp:p,merge:c}},dd7b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container",style:{height:e.fullHeight}},[r("div",{staticClass:"base-radius login-wrap",style:{top:e.loginTop}},[e._m(0),r("div",{staticClass:"login-form"},[r("el-form",{ref:"loginForm",staticClass:"inner-box",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"off","label-position":"left"}},[r("el-form-item",[r("div",{staticClass:"login-name"},[e._v("用户登录")])]),r("el-form-item",{staticClass:"form-item",attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("span",{staticClass:"el-icon-user"})]),r("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1",clearable:"","auto-complete":"off"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),r("el-form-item",{staticClass:"form-item",attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("span",{staticClass:"el-icon-lock"})]),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2",clearable:"","auto-complete":"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),r("el-form-item",[r("IFireCheckbox",{attrs:{active:e.savePwd}},[e._v("记住密码")])],1),r("el-form-item",[r("el-button",{staticClass:"btn",staticStyle:{width:"100%"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)],1)])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("燃气探测器系统")]),r("p",{staticClass:"sub-title"},[e._v("Gas detector system")])])}];r("ac1f"),r("5319");var i=r("a026");
/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return u(e)||l(e)||f()}function u(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(){return"undefined"!==typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function d(e,t){y(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(r){y(e.prototype,t.prototype,r)})),Object.getOwnPropertyNames(t).forEach((function(r){y(e,t,r)}))}function y(e,t,r){var n=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);n.forEach((function(n){var o=r?Reflect.getOwnMetadata(n,t,r):Reflect.getOwnMetadata(n,t);r?Reflect.defineMetadata(n,o,e,r):Reflect.defineMetadata(n,o,e)}))}var m={__proto__:[]},g=m instanceof Array;function h(e){return function(t,r,n){var o="function"===typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!==typeof n&&(n=void 0),o.__decorators__.push((function(t){return e(t,r,n)}))}}function v(e){var t=a(e);return null==e||"object"!==t&&"function"!==t}function b(e,t){var r=t.prototype._init;t.prototype._init=function(){var t=this,r=Object.getOwnPropertyNames(e);if(e.$options.props)for(var n in e.$options.props)e.hasOwnProperty(n)||r.push(n);r.forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){e[r]=t},configurable:!0})}))};var n=new t;t.prototype._init=r;var o={};return Object.keys(n).forEach((function(e){void 0!==n[e]&&(o[e]=n[e])})),o}var O=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach((function(e){if("constructor"!==e)if(O.indexOf(e)>-1)t[e]=r[e];else{var n=Object.getOwnPropertyDescriptor(r,e);void 0!==n.value?"function"===typeof n.value?(t.methods||(t.methods={}))[e]=n.value:(t.mixins||(t.mixins=[])).push({data:function(){return c({},e,n.value)}}):(n.get||n.set)&&((t.computed||(t.computed={}))[e]={get:n.get,set:n.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return b(this,e)}});var n=e.__decorators__;n&&(n.forEach((function(e){return e(t)})),delete e.__decorators__);var o=Object.getPrototypeOf(e.prototype),a=o instanceof i["default"]?o.constructor:i["default"],s=a.extend(t);return x(s,e,a),p()&&d(s,e),s}var j={prototype:!0,arguments:!0,callee:!0,caller:!0};function x(e,t,r){Object.getOwnPropertyNames(t).forEach((function(n){if(!j[n]){var o=Object.getOwnPropertyDescriptor(e,n);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(t,n);if(!g){if("cid"===n)return;var a=Object.getOwnPropertyDescriptor(r,n);if(!v(i.value)&&a&&a.value===i.value)return}0,Object.defineProperty(e,n,i)}}}))}function k(e){return"function"===typeof e?w(e):function(t){return w(t,e)}}k.registerHooks=function(e){O.push.apply(O,s(e))};"undefined"!==typeof Reflect&&Reflect.getMetadata;var A=r("2f62");_("computed",A["e"]),_("computed",A["c"]),_("methods",A["b"]),_("methods",A["d"]);function _(e,t){function r(r,n){return h((function(o,i){o[e]||(o[e]={});var a,c=(a={},a[i]=r,a);o[e][i]=void 0!==n?t(n,c)[i]:t(c)[i]}))}function n(e,t){if("string"===typeof t){var n=t,o=e;return r(n,void 0)(o,n)}var i=P(t),a=e;return r(a,i)}return n}function P(e){var t=e&&e.namespace;if("string"===typeof t)return"/"!==t[t.length-1]?t+"/":t}r("323e");var C=r("b78d");function E(e){Object(C["f"])("userInfo",JSON.stringify(e))}function S(){var e=R(),t="";return null!=e&&Object(C["e"])(e)&&(t=e.token),t}function R(){var e=Object(C["d"])("userInfo");return e?JSON.parse(e):null}function T(){var e=Object(C["d"])("saveUser");if(e){var t=JSON.parse(e);return t}return null}function N(e){Object(C["f"])("saveUser",JSON.stringify(e))}var F={product:{BASE_URL:"https://www.xiaoanyun.cn/fireapi",VERSION:"/v1.0.0"},test:{BASE_URL:"http://120.24.102.1:8092"}},D={Security:"/ifiresecurityservice/api"},L=(r("4160"),r("c975"),r("b64b"),r("d3b7"),r("25f0"),r("159b"),r("0fb7"),r("450d"),r("f529")),$=r.n(L),H=r("53ca"),I=r("bc3a"),U=r.n(I),B=r("4360"),M=r("4328"),q=U.a.create();q.defaults.timeout=6e4;var J=[],V=U.a.CancelToken,z={};V.source();function Q(e,t){var r=["/dash/gridstat","/orgs/tree"],n=!1;r.forEach((function(t){e.indexOf(t)>-1&&(n=!0)})),n||(z[e]?z[e].push(t):z[e]=[t])}function K(e){var t=z[e];t&&Array.isArray(t)&&t.forEach((function(e){e()}))}function G(){J.forEach((function(e){e.close()}))}q.interceptors.request.use((function(e){var t=S();return e.url&&e.url.indexOf(F.test.BASE_URL)>-1&&(t=""),t&&(e.headers.Authorization="Basic:"+t),e.params&&e.params.notCancelToken?delete e.params.notCancelToken:(K(e.url),e.cancelToken=new V((function(t){Q(e.url,t)}))),"post"==e.method&&"[object FormData]"!==Object.prototype.toString.call(e.data)&&(e.data=M.stringify(e.data)),e}),(function(e){return Promise.reject(e)})),q.interceptors.response.use((function(e){return 200===e.status?Promise.resolve(e):Promise.reject(e)}),(function(e){if("object"==Object(H["a"])(e.response)&&e.response.status){switch(e.response.status){case 401:e.config.url.indexOf("/users/logininfo")>-1||B["a"].commit("setTokenAuth",!1);break;case 404:break;default:}return Promise.reject(e.response)}if(G(),!U.a.isCancel(e)){var t=$()({type:"warning",message:"请求超时，请重试"});J.push(t)}}));var W=function(e,t,r){return console.log("add..."),new Promise((function(n,o){q.post(e,t,r).then((function(e){n(e.data)})).catch((function(e){o(e)}))}))},X=F.product.BASE_URL+D.Security+F.product.VERSION,Y={login:"/auths/login",getUserInfo:"/users/getuserinfo"};function Z(e,t){return W(X+Y.login,{username:e,password:t}).then((function(e){var t=e,r=!1;return Object(C["a"])(t)?(r=!0,E(t.data.UserSessionInfo)):"2010"==e.code&&(r=!1),r}))}function ee(){return UserAjax.getLoginInfo().then((function(e){if(Object(C["a"])(e)){var t=e.data.UserSessionInfo.roleId;return E(e.data.UserSessionInfo),t}return""}))}var te={login:Z,getUserInfoByToken:ee},re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-checkbox",on:{click:e.tigger}},[r("span",{staticClass:"my-checkbox__inner"},[e.innerActive?r("i",{staticClass:"el-icon-check"}):e._e()]),r("span",{staticClass:"my-checkbox__label",class:{active:e.innerActive}},[e._t("default")],2)])},ne=[],oe={name:"my-checkbox",data:function(){return{innerActive:!1}},props:{active:{type:Boolean,default:!1}},mounted:function(){this.innerActive=this.active},watch:{active:function(e){this.innerActive=e}},methods:{tigger:function(){this.innerActive=!this.innerActive,this.$emit("update:active",this.innerActive)}}},ie=oe,ae=(r("2012"),r("2877")),ce=Object(ae["a"])(ie,re,ne,!1,null,"46517c2e",null),se=ce.exports,ue=(r("4942"),{name:"login",components:{IFireCheckbox:se},created:function(){this.back=this.$route.query.back||"";var e=T();e&&(this.loginForm=e,this.savePwd=!0),this.fullHeight=document.documentElement.offsetHeight+"px",this.boxMarginTop=(document.documentElement.offsetHeight-500)/2+"px"},mounted:function(){this.$nextTick((function(){Object(C["c"])()}))},data:function(){var e=function(e,t,r){t?r():r(new Error("用户名不能为空"))},t=function(e,t,r){t?r():r(new Error("密码不能为空"))};return{back:"",loginBoxHeight:546,loginForm:{username:"",password:""},boxMarginTop:"0rem",fullHeight:"0rem",loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0,savePwd:!1}},watch:{$route:{immediate:!0,handler:function(e){this.redirect=route.query&&route.query.redirect}}},computed:{loginTop:function(){if(this.fullHeight){var e=(parseInt(this.fullHeight.replace("px",""))-this.loginBoxHeight)/2-this.$rem.toPx(.2)+"px";return e}return 0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},setTokenAuth:function(e){this.$store.commit("setTokenAuth",e)},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return e.loading=!1,!1;e.loading=!0,N(e.loginForm),te.login(e.loginForm.username,e.loginForm.password).then((function(t){"boolean"===typeof t&&t?(e.$notify({type:"success",title:"提示",message:"登录成功"}),setTimeout((function(){e.back?e.$router.back():e.$router.push("/")}),500),e.setTokenAuth(!0)):e.$notify({type:"error",title:"提示",message:"用户名或密码错误！"}),e.loading=!1})).catch((function(t){e.loading=!1}))}))}}}),le=ue,fe=(r("66c0"),r("6824"),Object(ae["a"])(le,n,o,!1,null,"7fedff0f",null));t["default"]=fe.exports}}]);